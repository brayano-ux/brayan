

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Application</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <style>
  .autre,.sidebar{position:fixed;top:0;height:100vh}.autre,.sidebar,body{height:100vh}.autre-header,.liste strong{border-bottom:1px solid rgba(255,255,255,.1)}.autre,.emo,.zone_chat{overflow-y:auto}.entete h3,.lui h3,.reply-close,.utilise{font-weight:700}*{margin:0;padding:0;box-sizing:border-box}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;background-color:#f5f5f5;overflow:hidden}.sidebar{left:280px;width:2px;background-color:#ddd;z-index:100}.autre{left:0;width:280px;background:linear-gradient(135deg,#2c3e50 0,#34495e 100%);color:#fff;box-shadow:2px 0 10px rgba(0,0,0,.1);transition:transform .3s;z-index:200}#photoPreview,.entete{box-shadow:0 2px 10px rgba(0,0,0,.1)}.deconnexion,.entete,.tous,.user-item{transition:.3s}.autre-header{padding:20px}.encore{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px}.user-info,.user-item{align-items:center;display:flex}.utilise{font-size:16px;color:#ecf0f1}.deconnexion{background:linear-gradient(135deg,#e74c3c 0,#c0392b 100%);color:#fff;border:none;padding:6px 12px;border-radius:15px;cursor:pointer;font-size:11px}.deconnexion:hover{transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,.3)}.liste{padding:0 20px 20px}.liste strong{display:block;margin-bottom:15px;color:#ecf0f1;font-size:14px;padding-bottom:8px}.user-item{justify-content:space-between;padding:10px;margin:5px 0;background:rgba(255,255,255,.1);border-radius:8px;cursor:pointer;position:relative}.user-item:hover{background:rgba(255,255,255,.2);transform:translateX(5px)}.user-info{gap:10px}.user-status{width:8px;height:8px;background:#27ae60;border-radius:50%;border:2px solid #fff}.user-name{font-size:13px;color:#ecf0f1}.notification-badge{background:#e74c3c;color:#fff;border-radius:50%;width:20px;height:20px;display:none;align-items:center;justify-content:center;font-size:11px;font-weight:700;position:absolute;right:5px;top:5px;animation:1s infinite pulse}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}.tous{position:relative;left:280px;width:calc(100% - 280px);height:100vh}.entete,.info,.zone_chat{position:fixed;left:280px;width:calc(100% - 280px)}.entete{top:0;height:70px;background:linear-gradient(135deg,#fff 0,#f8f9fa 100%);border-bottom:1px solid #e9ecef;display:flex;align-items:center;justify-content:space-between;z-index:150;padding:0 30px}.chat-actions,.entete h3{display:flex;gap:10px;align-items:center}.entete h3{color:#2c3e50;font-size:18px}.mobile-menu-btn{display:none;background:0 0;border:none;font-size:20px;color:#2c3e50;cursor:pointer;padding:10px}.zone_chat{top:70px;height:calc(100vh - 170px);background:linear-gradient(135deg,#f8f9fa 0,#e9ecef 100%);padding:20px;scroll-behavior:smooth;transition:.3s}#message,.bas{height:45px;transition:.3s}.info{bottom:0;background:linear-gradient(135deg,#fff 0,#f8f9fa 100%);border-top:1px solid #e9ecef;padding:15px 30px;box-shadow:0 -2px 10px rgba(0,0,0,.1);transition:.3s}.message-input-container{display:flex;align-items:center;gap:15px;margin-bottom:10px}.reply-indicator{display:none;background:rgba(52,152,219,.1);border-left:3px solid #3498db;padding:8px 12px;border-radius:5px;margin-bottom:10px;font-size:12px;color:#666}.reply-close{float:right;cursor:pointer;color:#999}.anonyme,.bas{font-weight:600;gap:6px;cursor:pointer}#message{flex:1;border:2px solid #e9ecef;border-radius:22px;padding:0 20px;font-size:14px;background:#fff}#envoi,.message.sent{background:linear-gradient(135deg,#3498db 0,#2980b9 100%);color:#fff}#message:focus{outline:0;border-color:#3498db;box-shadow:0 0 0 3px rgba(52,152,219,.1)}.bas{padding:0 18px;border:none;border-radius:22px;font-size:13px;display:flex;align-items:center;box-shadow:0 2px 5px rgba(0,0,0,.1)}#emoji{background:linear-gradient(135deg,#f39c12 0,#e67e22 100%);color:#fff}#image{background:linear-gradient(135deg,#27ae60 0,#229954 100%);color:#fff}.bas:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.message{margin-bottom:15px;padding:12px 16px;border-radius:18px;max-width:70%;word-wrap:break-word;box-shadow:0 2px 8px rgba(0,0,0,.1);position:relative;animation:.3s ease-out messageSlide;cursor:pointer;transition:.2s}.anonyme,.btn-primary,.nom{transition:.3s}.message:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.15)}@keyframes messageSlide{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.message.sent{margin-left:auto;border-bottom-right-radius:5px}.message.received{background:linear-gradient(135deg,#fff 0,#f8f9fa 100%);color:#2c3e50;margin-right:auto;border:1px solid #e9ecef;border-bottom-left-radius:5px}.message.private{background:linear-gradient(135deg,#9b59b6 0,#8e44ad 100%);color:#fff;border:2px solid #7d3c98}.message.system{background:linear-gradient(135deg,#17a2b8 0,#138496 100%);color:#fff;text-align:center;margin:10px auto;font-size:13px;max-width:90%}.message-header{font-size:11px;opacity:.8;margin-bottom:4px;display:flex;justify-content:space-between;align-items:center}.anonyme,.lui h3{align-items:center}.message-reply{background:rgba(255,255,255,.2);border-left:3px solid rgba(255,255,255,.5);padding:6px 10px;margin-bottom:8px;border-radius:4px;font-size:11px;opacity:.9}.message.received .message-reply{background:rgba(0,0,0,.05);border-left-color:rgba(0,0,0,.2)}.message-text{font-size:14px;line-height:1.4}.emo{display:none;position:absolute;bottom:80px;left:30px;width:320px;height:120px;background:linear-gradient(135deg,#fff 0,#f8f9fa 100%);border:1px solid #e9ecef;border-radius:15px;padding:15px;box-shadow:0 10px 30px rgba(0,0,0,.15);z-index:1000}.emo span{cursor:pointer;font-size:22px;margin:6px;display:inline-block;transition:transform .2s;padding:4px;border-radius:6px}.emo span:hover{transform:scale(1.3);background:rgba(52,152,219,.1)}.anonyme{height:40px;padding:0 16px;border-radius:20px;background:linear-gradient(135deg,#9b59b6 0,#8e44ad 100%);border:none;color:#fff;font-size:13px;display:flex}.anonyme:hover{background:linear-gradient(135deg,#8e44ad 0,#7d3c98 100%);transform:translateY(-2px)}:root{--primary-color:#667eea;--primary-dark:#5a6fd8;--secondary-color:#764ba2;--accent-color:#f093fb;--text-primary:#2d3748;--text-secondary:#718096;--bg-primary:#ffffff;--bg-secondary:#f7fafc;--border-color:#e2e8f0}#connexion{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--bg-primary);border-radius:24px;box-shadow:0 20px 40px rgba(0,0,0,.15);width:100%;max-width:420px;padding:40px;z-index:1000}.lui h3{color:var(--primary-color);display:flex;justify-content:center;gap:12px;margin-bottom:30px;font-size:1.8rem}.form-group{margin-bottom:20px}.form-group label{display:block;color:var(--text-primary);font-weight:600;margin-bottom:8px;font-size:.9rem}.nom{width:100%;padding:14px 18px;border:2px solid var(--border-color);border-radius:12px;font-size:.95rem;background:var(--bg-secondary);outline:0}.nom:focus{border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(102,126,234,.1)}.btn-primary{width:100%;padding:14px;background:linear-gradient(135deg,var(--primary-color) 0,var(--secondary-color) 100%);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(102,126,234,.4)}.notification{position:fixed;top:20px;height:70px;right:20px;padding:12px 20px;border-radius:8px;color:#fff;font-size:13px;font-weight:600;z-index:9999;box-shadow:0 4px 12px rgba(0,0,0,.15);transform:translateX(400px);transition:.4s}.notification.show{transform:translateX(0)}.notification.info{background:linear-gradient(135deg,#28a745 0,#20c997 100%)}.notification.error{background:linear-gradient(135deg,#dc3545 0,#e74c3c 100%)}#photoPreview{display:none;margin-bottom:10px;border-radius:10px;max-width:200px}@media (max-width:768px){.anonyme,.bas{font-size:12px}.autre{transform:translateX(-100%);width:50%;z-index:300}.entete,.info,.tous,.zone_chat{left:0;width:100%}.autre.mobile-open{transform:translateX(0)}.sidebar{display:none}.entete{padding:0 15px;height:60px}.entete h3{font-size:16px}.mobile-menu-btn{display:block}.chat-actions{gap:5px}.anonyme{height:35px;padding:0 12px}.zone_chat{top:60px;height:calc(100vh - 140px);padding:15px}.info{padding:10px 15px;height:80px}.message-input-container{gap:8px;margin-bottom:5px}#message{height:40px;font-size:13px;padding:0 15px}.bas{height:40px;padding:0 12px;gap:4px}.message{max-width:85%;padding:10px 14px;font-size:13px}.emo{width:calc(100% - 30px);left:15px;bottom:90px}#connexion{margin:20px;max-width:calc(100% - 40px);padding:30px 25px}.lui h3{font-size:1.5rem!important}.liste{padding:0 15px 15px}.user-item{padding:8px;margin:3px 0}.user-name{font-size:12px}.autre-header{padding:15px}.utilise{font-size:14px}.deconnexion{padding:5px 10px;font-size:10px}}@media (max-width:480px){.message{max-width:90%;padding:8px 12px}.bas{padding:0 8px}.bas span{display:none}.info{height:70px}.zone_chat{height:calc(100vh - 130px)}}.mobile-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:250}.mobile-overlay.active{display:block}.private-chat-indicator{background:linear-gradient(135deg,#9b59b6 0,#8e44ad 100%);color:#fff;padding:8px 15px;border-radius:20px;font-size:12px;margin-left:10px;display:none}.private-chat-indicator.active{display:inline-block}
    </style>
</head>

<body>
    <div id="connexion" style="display: block;">
        <div class="lui">
            <h3>
                <i class="fas fa-sign-in-alt"></i> Connexion
            </h3>
        </div>
        <div id="formConnexion" class="form-toggle active">
            <div class="form-group">
                <label for="">Entrez votre prénom*</label>
                <input type="text" name="nom" class="nom" id="nom" placeholder="Brayan" required>
            </div>
            <div class="form-group">
                <label for="">Entrez votre email*</label>
                <input type="email" name="email" class="nom" id="email" placeholder="brayan@gmail.com" required>
            </div>
            <div class="form-group">
                <label for="">Entrez votre mot de passe*</label>
                <input type="password" name="motdepasse" class="nom" id="motdepasse" placeholder="••••••••" required>
            </div>
            <button id="btnSeConnecter" class="btn-primary">
                <i class="fas fa-sign-in-alt"></i>
                Se connecter
            </button>
        </div>
    </div>

    <div style="display:none;" id="letous">
        <div class="mobile-overlay" id="mobileOverlay"></div>

        <div class="autre" id="sidebar">
            <div class="autre-header">
                <div class="encore">
                    <div>
                        <h2 class="utilise" id="currentUserName">Utilisateur</h2>
                        <p style="font-size: 11px; opacity: 0.8; margin-top: 3px;">BTS Niveau 2 - PERLE</p>
                    </div>
                    <button class="deconnexion" id="deconnexion">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Déconnexion</span>
                    </button>
                </div>
            </div>

            <div class="liste">
                <strong>Utilisateurs connectés <span id="userCount">(0)</span></strong>
                <div id="usersList">
                </div>
            </div>
        </div>
        
        <div class="sidebar"></div>
        
        <div class="tous">
            <div class="entete">
                <div style="display: flex; align-items: center;">
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h3 id="chatTitle">
                        <i class="fa-solid fa-comment"></i> 
                        Discussion générale
                    </h3>
                    <div class="private-chat-indicator" id="privateChatIndicator">
                        <i class="fas fa-lock"></i> Chat privé
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="anonyme" id="modeAnonyme">
                        <i class="fas fa-user-secret"></i>
                        <span>Mode anonyme</span>
                    </button>
                </div>
            </div>
            
            <div class="zone_chat" id="zone_chat">
                <img src="" id="photoPreview" style="display: none;">
                
                <div class="emo" id="emo">
                    <span>😂</span> <span>🤣</span> <span>😅</span>
                    <span>😉</span> <span>😎</span> <span>😍</span> 
                    <span>🥰</span> <span>😘</span> <span>🤩</span> 
                    <span>😥</span> <span>😴</span> <span>😪</span>
                    <span>🤐</span> <span>🙄</span> <span>🥱</span>
                    <span>😛</span> <span>☝️</span> <span>👏</span>
                    <span>🙏</span> <span>💪</span> <span>❤️</span>
                    <span>👍</span> <span>👎</span> <span>🔥</span>
                    <span>⭐</span> <span>🎉</span> <span>🚀</span>
                </div>
            </div>
            
            <div class="info">
                <div class="reply-indicator" id="replyIndicator">
                    <span id="replyText">Réponse à...</span>
                    <span class="reply-close" id="replyClose">×</span>
                </div>
                <div class="message-input-container">
                    <input type="text" id="message" placeholder="Tapez votre message...">
                    <button id="envoi" class="bas">
                        <i class="fas fa-paper-plane"></i> 
                        <span>Envoyer</span>
                    </button>
                    <button id="emoji" class="bas">
                        <i class="fa-regular fa-face-laugh"></i> 
                        <span>Emoji</span>
                    </button>
                    <button id="image" class="bas">
                        <i class="fa-solid fa-images"></i> 
                        <span>Image</span>
                    </button>
                </div>
                <input type="file" id="camer" accept="image/*" style="display:none;">
            </div>
        </div>
    </div>

    <script type="module">
        const _0x1e78dd=_0x28ca;(function(_0x241476,_0x76c173){const _0x32886b=_0x28ca,_0x1a63ae=_0x241476();while(!![]){try{const _0x4bd089=parseInt(_0x32886b(0x166))/0x1*(parseInt(_0x32886b(0x1d5))/0x2)+-parseInt(_0x32886b(0x165))/0x3*(parseInt(_0x32886b(0x132))/0x4)+-parseInt(_0x32886b(0x1b8))/0x5+parseInt(_0x32886b(0x192))/0x6*(-parseInt(_0x32886b(0x1b2))/0x7)+parseInt(_0x32886b(0x185))/0x8+-parseInt(_0x32886b(0x17f))/0x9*(parseInt(_0x32886b(0x181))/0xa)+parseInt(_0x32886b(0x1a9))/0xb;if(_0x4bd089===_0x76c173)break;else _0x1a63ae['push'](_0x1a63ae['shift']());}catch(_0x5dad35){_0x1a63ae['push'](_0x1a63ae['shift']());}}}(_0x9b02,0x45306));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';import{getFirestore,collection,addDoc,doc,getDoc,getDocs,onSnapshot,query,orderBy,updateDoc,setDoc,limit,where}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';import{getAuth,signInWithEmailAndPassword,createUserWithEmailAndPassword,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';const firebaseConfig={'apiKey':_0x1e78dd(0x140),'authDomain':_0x1e78dd(0x19a),'projectId':_0x1e78dd(0x12b),'storageBucket':_0x1e78dd(0x19e),'messagingSenderId':_0x1e78dd(0x1cb),'appId':_0x1e78dd(0x190)},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app);let currentUser=null,isAnonymous=![],connectedUsers=new Map(),currentPrivateChat=null,replyingTo=null,privateChatNotifications=new Map();const connexionDiv=document['getElementById'](_0x1e78dd(0x1d3)),letousDiv=document[_0x1e78dd(0x1ca)](_0x1e78dd(0x191)),inscription=document[_0x1e78dd(0x1ca)](_0x1e78dd(0x1a6)),zone_chat=document['getElementById']('zone_chat'),message=document[_0x1e78dd(0x1ca)](_0x1e78dd(0x1d7)),sidebar=document[_0x1e78dd(0x1ca)]('sidebar'),mobileOverlay=document[_0x1e78dd(0x1ca)](_0x1e78dd(0x1af)),mobileMenuBtn=document['getElementById']('mobileMenuBtn');function showNotification(_0x1f447c,_0x1cd1b6=_0x1e78dd(0x17b)){const _0x18c326=_0x1e78dd,_0x4e474a=document[_0x18c326(0x154)](_0x18c326(0x196));if(_0x4e474a)_0x4e474a[_0x18c326(0x14e)]();const _0x51e5d6=document['createElement'](_0x18c326(0x180));_0x51e5d6[_0x18c326(0x131)]=_0x18c326(0x156)+_0x1cd1b6,_0x51e5d6[_0x18c326(0x134)]=_0x1f447c,document[_0x18c326(0x1c9)][_0x18c326(0x169)](_0x51e5d6),setTimeout(()=>_0x51e5d6[_0x18c326(0x1d2)][_0x18c326(0x142)]('show'),0x64),setTimeout(()=>{const _0x3c987d=_0x18c326;_0x51e5d6[_0x3c987d(0x1d2)][_0x3c987d(0x14e)](_0x3c987d(0x163)),setTimeout(()=>_0x51e5d6[_0x3c987d(0x14e)](),0x190);},0xfa0);}function formatTime(_0x520c86){const _0x350a34=_0x1e78dd,_0x223434=new Date(_0x520c86),_0x575ac9=new Date(),_0x38c986=_0x575ac9-_0x223434;if(_0x38c986<0xea60)return _0x350a34(0x12f);if(_0x38c986<0x36ee80)return Math['floor'](_0x38c986/0xea60)+_0x350a34(0x1bc);if(_0x38c986<0x5265c00)return _0x223434[_0x350a34(0x19b)](_0x350a34(0x1bd),{'hour':_0x350a34(0x1ad),'minute':_0x350a34(0x1ad)});return _0x223434[_0x350a34(0x148)](_0x350a34(0x1bd),{'day':_0x350a34(0x1ad),'month':_0x350a34(0x1ad)});}function scrollToBottom(){const _0x45dafb=_0x1e78dd;zone_chat[_0x45dafb(0x172)]=zone_chat[_0x45dafb(0x1ae)];}mobileMenuBtn[_0x1e78dd(0x17d)]('click',()=>{const _0x4eba05=_0x1e78dd;sidebar['classList'][_0x4eba05(0x135)]('mobile-open'),mobileOverlay[_0x4eba05(0x1d2)][_0x4eba05(0x135)]('active');}),mobileOverlay[_0x1e78dd(0x17d)](_0x1e78dd(0x146),()=>{const _0x47a950=_0x1e78dd;sidebar[_0x47a950(0x1d2)][_0x47a950(0x14e)](_0x47a950(0x18e)),mobileOverlay[_0x47a950(0x1d2)][_0x47a950(0x14e)](_0x47a950(0x18c));});function createMessageElement(_0x82a525,_0x512a29=![]){const _0x35591c=_0x1e78dd,_0x3ffdf3=document['createElement'](_0x35591c(0x180));let _0x33a247=_0x35591c(0x16c)+(_0x512a29?_0x35591c(0x14f):_0x35591c(0x1cd))+'\x20message-enter';_0x82a525[_0x35591c(0x1b1)]&&(_0x33a247+=_0x35591c(0x1a5));_0x82a525[_0x35591c(0x177)]&&(_0x33a247+=_0x35591c(0x147));_0x3ffdf3[_0x35591c(0x131)]=_0x33a247,_0x3ffdf3['dataset'][_0x35591c(0x15d)]=_0x82a525['id']||Date[_0x35591c(0x145)](),_0x3ffdf3[_0x35591c(0x1b4)][_0x35591c(0x164)]=_0x82a525['auteur'];let _0x2c1812='';return!_0x82a525['isSystem']&&(_0x2c1812+=_0x35591c(0x1c3)+_0x82a525[_0x35591c(0x13d)]+_0x35591c(0x1b0)+formatTime(_0x82a525[_0x35591c(0x17e)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>'),_0x82a525[_0x35591c(0x1b6)]&&(_0x2c1812+='<div\x20class=\x22message-reply\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>'+_0x82a525[_0x35591c(0x1b6)][_0x35591c(0x164)]+_0x35591c(0x16a)+_0x82a525[_0x35591c(0x1b6)][_0x35591c(0x160)][_0x35591c(0x141)](0x0,0x32)+(_0x82a525[_0x35591c(0x1b6)]['text'][_0x35591c(0x186)]>0x32?'...':'')+_0x35591c(0x1a2)),_0x2c1812+=_0x35591c(0x161)+_0x82a525[_0x35591c(0x160)]+_0x35591c(0x178),_0x82a525['image']&&(_0x2c1812+='<img\x20src=\x22'+_0x82a525[_0x35591c(0x19c)]+_0x35591c(0x1d8)),_0x3ffdf3[_0x35591c(0x130)]=_0x2c1812,!_0x82a525[_0x35591c(0x177)]&&_0x3ffdf3[_0x35591c(0x17d)](_0x35591c(0x146),()=>{!_0x512a29&&replyToMessage(_0x82a525);}),_0x3ffdf3;}function _0x28ca(_0x4952ae,_0x3dc97c){const _0x9b0213=_0x9b02();return _0x28ca=function(_0x28ca14,_0x2c936c){_0x28ca14=_0x28ca14-0x124;let _0x3ec975=_0x9b0213[_0x28ca14];return _0x3ec975;},_0x28ca(_0x4952ae,_0x3dc97c);}function replyToMessage(_0x539702){const _0x1012e1=_0x1e78dd;replyingTo={'id':_0x539702['id'],'author':_0x539702[_0x1012e1(0x13d)],'text':_0x539702[_0x1012e1(0x160)]};const _0x1c3613=document[_0x1012e1(0x1ca)](_0x1012e1(0x125)),_0x638805=document[_0x1012e1(0x1ca)](_0x1012e1(0x152));_0x638805[_0x1012e1(0x134)]=_0x1012e1(0x1a3)+_0x539702['auteur']+':\x20'+_0x539702['text'][_0x1012e1(0x141)](0x0,0x1e)+(_0x539702['text'][_0x1012e1(0x186)]>0x1e?_0x1012e1(0x195):''),_0x1c3613[_0x1012e1(0x13c)][_0x1012e1(0x14d)]=_0x1012e1(0x1b9),message[_0x1012e1(0x1b3)]();}document[_0x1e78dd(0x1ca)](_0x1e78dd(0x150))[_0x1e78dd(0x17d)](_0x1e78dd(0x146),()=>{const _0x4d981f=_0x1e78dd;replyingTo=null,document[_0x4d981f(0x1ca)]('replyIndicator')[_0x4d981f(0x13c)][_0x4d981f(0x14d)]=_0x4d981f(0x1bb);});function updateUsersList(){const _0x2a9228=_0x1e78dd,_0x3d3870=document[_0x2a9228(0x1ca)]('usersList'),_0x34ae5f=document[_0x2a9228(0x1ca)](_0x2a9228(0x13f));_0x3d3870[_0x2a9228(0x130)]='';let _0x5c9451=0x0;connectedUsers[_0x2a9228(0x158)]((_0x54ecb9,_0x4ead39)=>{const _0xe24d3f=_0x2a9228;if(_0x4ead39===currentUser?.['email'])return;_0x5c9451++;const _0x4358c3=document[_0xe24d3f(0x1b7)]('div');_0x4358c3['className']=_0xe24d3f(0x175),_0x4358c3[_0xe24d3f(0x1b4)][_0xe24d3f(0x159)]=_0x4ead39;const _0x26af4=privateChatNotifications[_0xe24d3f(0x15a)](_0x4ead39)||0x0;_0x4358c3['innerHTML']=_0xe24d3f(0x14c)+_0x54ecb9['nom']+_0xe24d3f(0x173)+(_0x26af4>0x0?_0xe24d3f(0x187):_0xe24d3f(0x1bb))+'\x22>'+_0x26af4+_0xe24d3f(0x1c5),_0x4358c3[_0xe24d3f(0x17d)](_0xe24d3f(0x146),()=>{const _0xebd711=_0xe24d3f;startPrivateChat(_0x4ead39,_0x54ecb9[_0xebd711(0x151)]),privateChatNotifications[_0xebd711(0x1a0)](_0x4ead39,0x0),updateUsersList(),window[_0xebd711(0x1c1)]<=0x300&&(sidebar[_0xebd711(0x1d2)][_0xebd711(0x14e)](_0xebd711(0x18e)),mobileOverlay[_0xebd711(0x1d2)][_0xebd711(0x14e)](_0xebd711(0x18c)));}),_0x3d3870['appendChild'](_0x4358c3);}),_0x34ae5f[_0x2a9228(0x134)]='('+(_0x5c9451+0x1)+')';}function startPrivateChat(_0x148cfa,_0x4a1668){const _0x2eeb3b=_0x1e78dd;currentPrivateChat=_0x148cfa,document[_0x2eeb3b(0x1ca)](_0x2eeb3b(0x162))[_0x2eeb3b(0x130)]=_0x2eeb3b(0x183)+_0x4a1668,document['getElementById']('privateChatIndicator')[_0x2eeb3b(0x1d2)]['add'](_0x2eeb3b(0x18c));const _0x5465fd=zone_chat[_0x2eeb3b(0x15c)](_0x2eeb3b(0x1cf));_0x5465fd['forEach'](_0x3e5457=>_0x3e5457['remove']()),loadPrivateMessages(_0x148cfa),showNotification(_0x2eeb3b(0x17c)+_0x4a1668+_0x2eeb3b(0x1c8),_0x2eeb3b(0x17b));}function backToGeneralChat(){const _0x56fc55=_0x1e78dd;currentPrivateChat=null,document[_0x56fc55(0x1ca)]('chatTitle')['innerHTML']='<i\x20class=\x22fa-solid\x20fa-comment\x22></i>\x20Discussion\x20générale',document[_0x56fc55(0x1ca)](_0x56fc55(0x13a))[_0x56fc55(0x1d2)][_0x56fc55(0x14e)](_0x56fc55(0x18c));const _0x4654f8=zone_chat[_0x56fc55(0x15c)](_0x56fc55(0x1cf));_0x4654f8[_0x56fc55(0x158)](_0x59a59e=>_0x59a59e[_0x56fc55(0x14e)]()),loadMessages(),showNotification(_0x56fc55(0x15b),_0x56fc55(0x17b));}document[_0x1e78dd(0x1ca)]('chatTitle')[_0x1e78dd(0x17d)](_0x1e78dd(0x189),()=>{currentPrivateChat&&backToGeneralChat();});function _0x9b02(){const _0x5462a0=['Adresse\x20email\x20invalide','scrollTop','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-badge\x22\x20style=\x22display:\x20','linear-gradient(135deg,\x20#e74c3c\x200%,\x20#c0392b\x20100%)','user-item','<i\x20class=\x22fas\x20fa-user-secret\x22></i>\x20<span>Mode\x20anonyme</span>','isSystem','</div>','emo','disabled','info','Chat\x20privé\x20avec\x20','addEventListener','timestamp','237438xFwZGO','div','70FEDpzu','\x20a\x20rejoint\x20le\x20chat\x20👋','<i\x20class=\x22fas\x20fa-lock\x22></i>\x20Chat\x20avec\x20','Bienvenue\x20dans\x20BTS\x20Niveau\x202\x20de\x20la\x20PERLE\x20❤️','3437000uHsYUZ','length','flex','<i\x20class=\x22fas\x20fa-user\x22></i>\x20<span>Mode\x20normal</span>','dblclick','Cette\x20adresse\x20email\x20est\x20déjà\x20utilisée','error','active','motdepasse','mobile-open','target','1:446118780236:web:08c3a87d56bcd67399c3e9','letous','2094sTjJFQ','Erreur\x20lors\x20de\x20la\x20déconnexion:','trim','...','.notification','data','Le\x20nom\x20doit\x20contenir\x20au\x20moins\x202\x20caractères','Image\x20sélectionnée\x20!\x20📸','petit-jobs-express.firebaseapp.com','toLocaleTimeString','image','Erreur\x20envoi\x20message:','petit-jobs-express.appspot.com','privateMessages','set','clear','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Réponse\x20à\x20','Nouveau\x20message\x20privé\x20de\x20','\x20private','btnSeConnecter','Compte\x20créé\x20et\x20connecté\x20avec\x20succès\x20!\x20💪','docChanges','3601004aLSHgp','lastSeen','#emoji','.emo','2-digit','scrollHeight','mobileOverlay','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','isPrivate','5740dPjlve','focus','dataset','log','replyTo','createElement','1888470LtHCiE','block','Système','none','\x20min','fr-FR','Message\x20envoyé\x20!\x20✅','closest','value','innerWidth','linear-gradient(135deg,\x20#9b59b6\x200%,\x20#8e44ad\x20100%)','<div\x20class=\x22message-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','envoi','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','onload','auth/invalid-email','\x20démarré\x20🔒','body','getElementById','446118780236','signOut','received','Erreur\x20lors\x20de\x20l\x27envoi\x20du\x20message','.message','Vous\x20avez\x20été\x20déconnecté\x20avec\x20succès\x20!\x20👋','#photoPreview,\x20.emo','classList','connexion','src','16PFIbus','key','message','\x22\x20style=\x22max-width:\x20100%;\x20border-radius:\x208px;\x20margin-top:\x208px;\x22>','Enter','currentUser','replyIndicator','auth/weak-password','Erreur:','recipientId','connectedUsers','doc','petit-jobs-express','deconnexion','email','uid','À\x20l\x27instant','innerHTML','className','932NsLyex','has','textContent','toggle','asc','Veuillez\x20entrer\x20un\x20message\x20ou\x20sélectionner\x20une\x20image','shiftKey','auth/user-not-found','privateChatIndicator','keys','style','auteur','users','userCount','AIzaSyAigx8KtDCEulSWjpu17fnYsrqK7C9o3R8','substring','add','readAsDataURL','Erreur\x20lors\x20de\x20la\x20déconnexion','now','click','\x20system','toLocaleDateString','code','modeAnonyme','auth/wrong-password','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-status\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22user-name\x22>','display','remove','sent','replyClose','nom','replyText','added','querySelector','Mode\x20normal\x20activé\x20👤','notification\x20','Le\x20mot\x20de\x20passe\x20est\x20trop\x20faible','forEach','userId','get','Retour\x20au\x20chat\x20général\x20💬','querySelectorAll','messageId','photoPreview','Connexion...','text','<div\x20class=\x22message-text\x22>','chatTitle','show','author','417GFcWOY','50918TeYisb','Anonyme','Message\x20data:','appendChild',':</strong>\x20','insertBefore','message\x20','span','type','preventDefault','messages'];_0x9b02=function(){return _0x5462a0;};return _0x9b02();}async function envoyerMessage(){const _0x56c949=_0x1e78dd,_0x10d00f=message[_0x56c949(0x1c0)][_0x56c949(0x194)](),_0x1d6cc8=document['getElementById'](_0x56c949(0x15e))['style'][_0x56c949(0x14d)]!=='none';if(!_0x10d00f&&!_0x1d6cc8){showNotification(_0x56c949(0x137),_0x56c949(0x18b));return;}if(!currentUser){showNotification('Veuillez\x20vous\x20connecter\x20d\x27abord','error');return;}try{const _0x4a3acd={'auteur':isAnonymous?_0x56c949(0x167):currentUser['nom'],'text':_0x10d00f,'timestamp':Date[_0x56c949(0x145)](),'userId':currentUser['email'],'isAnonymous':isAnonymous,'isPrivate':!!currentPrivateChat,'recipientId':currentPrivateChat||null};_0x1d6cc8&&(_0x4a3acd[_0x56c949(0x19c)]=document['getElementById']('photoPreview')[_0x56c949(0x1d4)]);replyingTo&&(_0x4a3acd[_0x56c949(0x1b6)]=replyingTo);const _0xdac9ce=currentPrivateChat?_0x56c949(0x19f):_0x56c949(0x170);await addDoc(collection(db,_0xdac9ce),_0x4a3acd),message[_0x56c949(0x1c0)]='',document[_0x56c949(0x1ca)](_0x56c949(0x15e))[_0x56c949(0x13c)][_0x56c949(0x14d)]=_0x56c949(0x1bb),document[_0x56c949(0x1ca)]('photoPreview')[_0x56c949(0x1d4)]='',replyingTo=null,document['getElementById'](_0x56c949(0x125))[_0x56c949(0x13c)][_0x56c949(0x14d)]=_0x56c949(0x1bb),showNotification(_0x56c949(0x1be),_0x56c949(0x17b));}catch(_0x1a71d2){console[_0x56c949(0x18b)](_0x56c949(0x19d),_0x1a71d2),showNotification(_0x56c949(0x1ce),_0x56c949(0x18b));}}function loadMessages(){const _0x1b1036=_0x1e78dd,_0x1f9658=query(collection(db,_0x1b1036(0x170)),orderBy(_0x1b1036(0x17e),_0x1b1036(0x136)),limit(0x32));onSnapshot(_0x1f9658,_0x46d0fb=>{const _0x87a888=_0x1b1036;_0x46d0fb[_0x87a888(0x1a8)]()[_0x87a888(0x158)](_0xc24470=>{const _0x229d57=_0x87a888;if(_0xc24470[_0x229d57(0x16e)]===_0x229d57(0x153)&&!currentPrivateChat){const _0x46ea0b={..._0xc24470[_0x229d57(0x12a)][_0x229d57(0x197)](),'id':_0xc24470[_0x229d57(0x12a)]['id']};if(_0x46ea0b[_0x229d57(0x1b1)])return;const _0x97cbc4=auth[_0x229d57(0x124)]&&_0x46ea0b[_0x229d57(0x159)]===auth['currentUser'][_0x229d57(0x12e)],_0x40386e=createMessageElement(_0x46ea0b,_0x97cbc4),_0xafdc86=zone_chat[_0x229d57(0x15c)]('#photoPreview,\x20.emo');_0xafdc86[_0x229d57(0x186)]>0x0?zone_chat[_0x229d57(0x16b)](_0x40386e,_0xafdc86[0x0]):zone_chat[_0x229d57(0x169)](_0x40386e),scrollToBottom();}});});}function loadPrivateMessages(_0x570bf7){const _0x2e55d9=_0x1e78dd,_0x5b85d5=query(collection(db,_0x2e55d9(0x19f)),orderBy('timestamp',_0x2e55d9(0x136)),limit(0x32));onSnapshot(_0x5b85d5,_0x5a8951=>{const _0x412303=_0x2e55d9,_0x3521ed=new Set(),_0x4cbc27=zone_chat[_0x412303(0x15c)](_0x412303(0x1cf));_0x4cbc27['forEach'](_0x578a4d=>{const _0x2b41be=_0x412303;_0x578a4d[_0x2b41be(0x1b4)]['messageId']&&_0x3521ed[_0x2b41be(0x142)](_0x578a4d[_0x2b41be(0x1b4)][_0x2b41be(0x15d)]);}),_0x5a8951['docChanges']()[_0x412303(0x158)](_0x62b976=>{const _0x57bee7=_0x412303;if(_0x62b976[_0x57bee7(0x16e)]===_0x57bee7(0x153)){const _0x569d42={..._0x62b976[_0x57bee7(0x12a)][_0x57bee7(0x197)](),'id':_0x62b976[_0x57bee7(0x12a)]['id']};if(_0x3521ed['has'](_0x569d42['id']))return;console[_0x57bee7(0x1b5)](_0x57bee7(0x168),{'messageUserId':_0x569d42[_0x57bee7(0x159)],'messageRecipientId':_0x569d42[_0x57bee7(0x128)],'currentUserEmail':currentUser?.['email'],'targetUserId':_0x570bf7});const _0x4d886a=_0x569d42['userId']===currentUser?.[_0x57bee7(0x12d)]&&_0x569d42[_0x57bee7(0x128)]===_0x570bf7||_0x569d42[_0x57bee7(0x128)]===currentUser?.['email']&&_0x569d42[_0x57bee7(0x159)]===_0x570bf7;if(_0x4d886a){const _0x3fd45f=_0x569d42[_0x57bee7(0x159)]===currentUser?.[_0x57bee7(0x12d)],_0x573868=createMessageElement(_0x569d42,_0x3fd45f);_0x573868[_0x57bee7(0x1b4)]['messageId']=_0x569d42['id'];const _0x385070=zone_chat['querySelectorAll'](_0x57bee7(0x1d1));_0x385070[_0x57bee7(0x186)]>0x0?zone_chat['insertBefore'](_0x573868,_0x385070[0x0]):zone_chat[_0x57bee7(0x169)](_0x573868),scrollToBottom();}}});}),onSnapshot(query(collection(db,_0x2e55d9(0x19f)),orderBy(_0x2e55d9(0x17e),_0x2e55d9(0x136))),_0x210677=>{const _0x1cc12d=_0x2e55d9;_0x210677[_0x1cc12d(0x1a8)]()[_0x1cc12d(0x158)](_0xb7b61b=>{const _0x1e5d3f=_0x1cc12d;if(_0xb7b61b[_0x1e5d3f(0x16e)]==='added'){const _0x340623=_0xb7b61b['doc'][_0x1e5d3f(0x197)]();}});});}function listenToPrivateNotifications(){const _0x2a0518=_0x1e78dd;onSnapshot(query(collection(db,_0x2a0518(0x19f)),orderBy(_0x2a0518(0x17e),_0x2a0518(0x136))),_0x4444ec=>{const _0x429d45=_0x2a0518;_0x4444ec['docChanges']()[_0x429d45(0x158)](_0x108677=>{const _0x456de2=_0x429d45;if(_0x108677['type']===_0x456de2(0x153)){const _0x86b45b=_0x108677[_0x456de2(0x12a)][_0x456de2(0x197)]();if(_0x86b45b['recipientId']===currentUser?.['email']&&_0x86b45b[_0x456de2(0x159)]!==currentUser?.[_0x456de2(0x12d)]&&currentPrivateChat!==_0x86b45b[_0x456de2(0x159)]){const _0x2e6b48=privateChatNotifications[_0x456de2(0x15a)](_0x86b45b[_0x456de2(0x159)])||0x0;privateChatNotifications[_0x456de2(0x1a0)](_0x86b45b[_0x456de2(0x159)],_0x2e6b48+0x1),updateUsersList(),showNotification(_0x456de2(0x1a4)+_0x86b45b[_0x456de2(0x13d)]+'\x20💌',_0x456de2(0x17b));}}});});}function manageConnectedUsers(){const _0x98764b=_0x1e78dd;if(!currentUser)return;const _0x35ea5a=doc(db,_0x98764b(0x129),currentUser[_0x98764b(0x12d)]);setDoc(_0x35ea5a,{'nom':currentUser[_0x98764b(0x151)],'email':currentUser[_0x98764b(0x12d)],'lastSeen':Date[_0x98764b(0x145)](),'isOnline':!![]}),onSnapshot(collection(db,_0x98764b(0x129)),_0x20e886=>{const _0x163d01=_0x98764b,_0x51b728=new Set(connectedUsers[_0x163d01(0x13b)]());connectedUsers[_0x163d01(0x1a1)](),_0x20e886['forEach'](_0x24643a=>{const _0x59a32f=_0x163d01,_0x5b0d71=_0x24643a[_0x59a32f(0x197)](),_0x4ca817=_0x24643a['id'];Date['now']()-_0x5b0d71[_0x59a32f(0x1aa)]<0x7530&&(connectedUsers['set'](_0x4ca817,_0x5b0d71),!_0x51b728[_0x59a32f(0x133)](_0x4ca817)&&_0x4ca817!==currentUser['email']&&addSystemMessage(_0x5b0d71[_0x59a32f(0x151)]+_0x59a32f(0x182)));}),updateUsersList();}),setInterval(()=>{const _0x17dd94=_0x98764b;currentUser&&updateDoc(doc(db,_0x17dd94(0x129),currentUser[_0x17dd94(0x12d)]),{'lastSeen':Date['now']()});},0x3a98);}function addSystemMessage(_0x2f4acb){const _0x436c87=_0x1e78dd;if(currentPrivateChat)return;const _0x3523ba={'text':_0x2f4acb,'timestamp':Date[_0x436c87(0x145)](),'isSystem':!![],'auteur':_0x436c87(0x1ba)},_0x1f2fbf=createMessageElement(_0x3523ba,![]),_0x5c1377=zone_chat['querySelectorAll'](_0x436c87(0x1d1));_0x5c1377[_0x436c87(0x186)]>0x0?zone_chat[_0x436c87(0x16b)](_0x1f2fbf,_0x5c1377[0x0]):zone_chat[_0x436c87(0x169)](_0x1f2fbf),scrollToBottom();}inscription[_0x1e78dd(0x17d)](_0x1e78dd(0x146),async function(){const _0x3e4eb1=_0x1e78dd,_0x54a128=document[_0x3e4eb1(0x1ca)](_0x3e4eb1(0x151))['value'][_0x3e4eb1(0x194)](),_0x2044e4=document['getElementById'](_0x3e4eb1(0x12d))[_0x3e4eb1(0x1c0)]['trim'](),_0x510afc=document[_0x3e4eb1(0x1ca)](_0x3e4eb1(0x18d))['value'];if(!_0x54a128||!_0x2044e4||!_0x510afc){showNotification('Veuillez\x20remplir\x20tous\x20les\x20champs',_0x3e4eb1(0x18b));return;}if(_0x54a128[_0x3e4eb1(0x186)]<0x2){showNotification(_0x3e4eb1(0x198),'error');return;}inscription[_0x3e4eb1(0x17a)]=!![],inscription[_0x3e4eb1(0x134)]=_0x3e4eb1(0x15f);try{try{await signInWithEmailAndPassword(auth,_0x2044e4,_0x510afc),showNotification('Connexion\x20réussie\x20!\x20🎉',_0x3e4eb1(0x17b));}catch(_0xf16c0c){if(_0xf16c0c[_0x3e4eb1(0x149)]===_0x3e4eb1(0x139)||_0xf16c0c[_0x3e4eb1(0x149)]===_0x3e4eb1(0x14b))await createUserWithEmailAndPassword(auth,_0x2044e4,_0x510afc),showNotification(_0x3e4eb1(0x1a7),_0x3e4eb1(0x17b)),await setDoc(doc(db,_0x3e4eb1(0x13e),_0x2044e4),{'nom':_0x54a128,'email':_0x2044e4,'dateCreation':Date[_0x3e4eb1(0x145)]()});else throw _0xf16c0c;}currentUser={'nom':_0x54a128,'email':_0x2044e4},document['getElementById']('currentUserName')[_0x3e4eb1(0x134)]=_0x54a128,connexionDiv[_0x3e4eb1(0x13c)][_0x3e4eb1(0x14d)]=_0x3e4eb1(0x1bb),letousDiv[_0x3e4eb1(0x13c)][_0x3e4eb1(0x14d)]=_0x3e4eb1(0x1b9),manageConnectedUsers(),loadMessages(),listenToPrivateNotifications();}catch(_0x162134){console[_0x3e4eb1(0x18b)](_0x3e4eb1(0x127),_0x162134);let _0xf06035='Erreur\x20lors\x20de\x20la\x20connexion';if(_0x162134[_0x3e4eb1(0x149)]==='auth/email-already-in-use')_0xf06035=_0x3e4eb1(0x18a);else{if(_0x162134['code']===_0x3e4eb1(0x126))_0xf06035=_0x3e4eb1(0x157);else _0x162134[_0x3e4eb1(0x149)]===_0x3e4eb1(0x1c7)&&(_0xf06035=_0x3e4eb1(0x171));}showNotification(_0xf06035,_0x3e4eb1(0x18b));}finally{inscription[_0x3e4eb1(0x17a)]=![],inscription[_0x3e4eb1(0x130)]='<i\x20class=\x22fas\x20fa-sign-in-alt\x22></i>\x20Se\x20connecter';}}),document[_0x1e78dd(0x1ca)](_0x1e78dd(0x12c))[_0x1e78dd(0x17d)](_0x1e78dd(0x146),async function(){const _0x5623f9=_0x1e78dd;try{currentUser&&await updateDoc(doc(db,_0x5623f9(0x129),currentUser[_0x5623f9(0x12d)]),{'isOnline':![],'lastSeen':Date['now']()}),await auth[_0x5623f9(0x1cc)](),showNotification(_0x5623f9(0x1d0),'info'),connexionDiv[_0x5623f9(0x13c)][_0x5623f9(0x14d)]=_0x5623f9(0x1b9),letousDiv[_0x5623f9(0x13c)]['display']=_0x5623f9(0x1bb),zone_chat[_0x5623f9(0x130)]='',currentUser=null,currentPrivateChat=null,connectedUsers['clear'](),privateChatNotifications[_0x5623f9(0x1a1)]();}catch(_0x451d01){console[_0x5623f9(0x18b)](_0x5623f9(0x193),_0x451d01),showNotification(_0x5623f9(0x144),_0x5623f9(0x18b));}}),document[_0x1e78dd(0x1ca)](_0x1e78dd(0x14a))[_0x1e78dd(0x17d)](_0x1e78dd(0x146),function(){const _0x11a53a=_0x1e78dd;isAnonymous=!isAnonymous;const _0x459270=this;isAnonymous?(_0x459270[_0x11a53a(0x130)]=_0x11a53a(0x188),_0x459270[_0x11a53a(0x13c)]['background']=_0x11a53a(0x174),showNotification('Mode\x20anonyme\x20activé\x20🥸',_0x11a53a(0x17b))):(_0x459270[_0x11a53a(0x130)]=_0x11a53a(0x176),_0x459270[_0x11a53a(0x13c)]['background']=_0x11a53a(0x1c2),showNotification(_0x11a53a(0x155),_0x11a53a(0x17b)));}),document['getElementById'](_0x1e78dd(0x19c))[_0x1e78dd(0x17d)]('click',()=>{const _0x48d751=_0x1e78dd;document['getElementById']('camer')[_0x48d751(0x146)]();}),document[_0x1e78dd(0x1ca)]('camer')[_0x1e78dd(0x17d)]('change',function(_0x240a98){const _0x214529=_0x1e78dd,_0xa4976b=_0x240a98['target']['files'][0x0];if(!_0xa4976b)return;const _0x17019f=new FileReader();_0x17019f[_0x214529(0x1c6)]=function(){const _0xf71f0a=_0x214529;document['getElementById']('photoPreview')[_0xf71f0a(0x1d4)]=_0x17019f['result'],document['getElementById'](_0xf71f0a(0x15e))['style']['display']=_0xf71f0a(0x1b9),showNotification(_0xf71f0a(0x199),_0xf71f0a(0x17b));},_0x17019f[_0x214529(0x143)](_0xa4976b);}),document[_0x1e78dd(0x1ca)]('emoji')[_0x1e78dd(0x17d)]('click',function(){const _0x51eb2b=_0x1e78dd,_0x26b139=document[_0x51eb2b(0x1ca)]('emo');_0x26b139[_0x51eb2b(0x13c)]['display']=_0x26b139[_0x51eb2b(0x13c)]['display']===_0x51eb2b(0x1b9)?_0x51eb2b(0x1bb):_0x51eb2b(0x1b9);}),document[_0x1e78dd(0x1ca)](_0x1e78dd(0x179))['querySelectorAll'](_0x1e78dd(0x16d))['forEach'](_0x227b5c=>{const _0x1bb3db=_0x1e78dd;_0x227b5c['addEventListener'](_0x1bb3db(0x146),function(){const _0x2cddd9=_0x1bb3db;message[_0x2cddd9(0x1c0)]+=_0x227b5c[_0x2cddd9(0x134)],document[_0x2cddd9(0x1ca)]('emo')['style']['display']=_0x2cddd9(0x1bb),message[_0x2cddd9(0x1b3)]();});}),document[_0x1e78dd(0x1ca)](_0x1e78dd(0x1c4))[_0x1e78dd(0x17d)]('click',envoyerMessage),message['addEventListener']('keypress',function(_0x46083a){const _0x254872=_0x1e78dd;_0x46083a[_0x254872(0x1d6)]===_0x254872(0x1d9)&&!_0x46083a[_0x254872(0x138)]&&(_0x46083a[_0x254872(0x16f)](),envoyerMessage());}),document[_0x1e78dd(0x17d)](_0x1e78dd(0x146),function(_0x56210b){const _0x26331c=_0x1e78dd;!_0x56210b[_0x26331c(0x18f)][_0x26331c(0x1bf)](_0x26331c(0x1ab))&&!_0x56210b[_0x26331c(0x18f)][_0x26331c(0x1bf)](_0x26331c(0x1ac))&&(document[_0x26331c(0x1ca)](_0x26331c(0x179))[_0x26331c(0x13c)]['display']=_0x26331c(0x1bb));}),setTimeout(()=>{const _0x44e41c=_0x1e78dd;showNotification(_0x44e41c(0x184),'info');},0x3e8),setTimeout(()=>{currentUser&&!currentPrivateChat&&addSystemMessage('👋\x20Bienvenue\x20!\x20Cliquez\x20sur\x20un\x20utilisateur\x20pour\x20discuter\x20en\x20privé');},0xbb8);

    </script>
</body>

</html>
